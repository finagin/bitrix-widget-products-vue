import{x as p,u as y,y as n,z as i}from"./index-ClDT6PCn.js";const m=p("products",()=>{const e=y(),o=n(!1),s=n({category:{},vendor:{}}),r=n([]),c=n({}),d=async a=>{var t;if(!((t=s.value.category)!=null&&t[a])){const{data:u}=await i.get("",{params:{getRazdel:a}});s.value.category[a]=u}return s.value.category[a]},v=async a=>{var t;if(!((t=s.value.vendor)!=null&&t[a])){const{data:u}=await i.get("",{params:{getVendor:a}});s.value.vendor[a]=u}return s.value.vendor[a]},l=async()=>{var a,t;o.value=!0,r.value=[],(a=e==null?void 0:e.params)!=null&&a.category?r.value=await d(e.params.category):(t=e==null?void 0:e.params)!=null&&t.vendor&&(r.value=await v(e.params.vendor)),o.value=!1};return{list:r,current:c,isLoading:o,call:l,updateCurrent:async()=>{await l(),c.value=r.value.find(a=>a["ID ТЕ"]===e.params.product)}}});export{m as u};
